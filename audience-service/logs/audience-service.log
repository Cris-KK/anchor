[] 2025-06-10 22:55:50.417 [main] INFO  com.reward.audience.AudienceServiceApplication - Starting AudienceServiceApplication using Java 21.0.6 on LAPTOP-0CHPJDL7 with PID 58292 (F:\MyProject\live-reward-system\audience-service\target\classes started by 32683 in F:\MyProject\live-reward-system\audience-service)
[] 2025-06-10 22:55:50.425 [main] DEBUG com.reward.audience.AudienceServiceApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
[] 2025-06-10 22:55:50.426 [main] INFO  com.reward.audience.AudienceServiceApplication - No active profile set, falling back to 1 default profile: "default"
[] 2025-06-10 22:55:50.948 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.support.BeanDefinitionOverrideException: Invalid bean definition with name 'traceIdFilter' defined in class path resource [com/reward/audience/config/WebConfig.class]: Cannot register bean definition [Root bean: class [null]; scope=; abstract=false; lazyInit=null; autowireMode=3; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=webConfig; factoryMethodName=traceIdFilter; initMethodName=null; destroyMethodName=(inferred); defined in class path resource [com/reward/audience/config/WebConfig.class]] for bean 'traceIdFilter': There is already [Generic bean: class [com.reward.common.config.TraceIdFilter]; scope=singleton; abstract=false; lazyInit=null; autowireMode=0; dependencyCheck=0; autowireCandidate=true; primary=false; factoryBeanName=null; factoryMethodName=null; initMethodName=null; destroyMethodName=null; defined in URL [jar:file:/C:/Users/32683/.m2/repository/com/reward/common-utils/1.0.0/common-utils-1.0.0.jar!/com/reward/common/config/TraceIdFilter.class]] bound.
[] 2025-06-10 22:55:50.958 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
[] 2025-06-10 22:55:50.975 [main] ERROR o.s.b.diagnostics.LoggingFailureAnalysisReporter - 

***************************
APPLICATION FAILED TO START
***************************

Description:

The bean 'traceIdFilter', defined in class path resource [com/reward/audience/config/WebConfig.class], could not be registered. A bean with that name has already been defined in URL [jar:file:/C:/Users/32683/.m2/repository/com/reward/common-utils/1.0.0/common-utils-1.0.0.jar!/com/reward/common/config/TraceIdFilter.class] and overriding is disabled.

Action:

Consider renaming one of the beans or enabling overriding by setting spring.main.allow-bean-definition-overriding=true

[] 2025-06-10 22:58:32.158 [main] INFO  com.reward.audience.AudienceServiceApplication - Starting AudienceServiceApplication using Java 21.0.6 on LAPTOP-0CHPJDL7 with PID 59116 (F:\MyProject\live-reward-system\audience-service\target\classes started by 32683 in F:\MyProject\live-reward-system\audience-service)
[] 2025-06-10 22:58:32.161 [main] DEBUG com.reward.audience.AudienceServiceApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
[] 2025-06-10 22:58:32.161 [main] INFO  com.reward.audience.AudienceServiceApplication - No active profile set, falling back to 1 default profile: "default"
[] 2025-06-10 22:58:32.881 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
[] 2025-06-10 22:58:32.883 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[] 2025-06-10 22:58:32.903 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 5 ms. Found 0 Redis repository interfaces.
[] 2025-06-10 22:58:33.550 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8091 (http)
[] 2025-06-10 22:58:33.551 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
[] 2025-06-10 22:58:33.552 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
[] 2025-06-10 22:58:33.552 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[] 2025-06-10 22:58:33.557 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
[] 2025-06-10 22:58:33.567 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
[] 2025-06-10 22:58:33.567 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
[] 2025-06-10 22:58:33.674 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[] 2025-06-10 22:58:33.674 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1456 ms
[] 2025-06-10 22:58:33.743 [main] ERROR com.zaxxer.hikari.HikariConfig - HikariPool-1 - dataSource or dataSourceClassName or jdbcUrl is required.
[] 2025-06-10 22:58:33.745 [main] ERROR o.s.boot.web.embedded.tomcat.TomcatStarter - Error starting Tomcat context. Exception: org.springframework.beans.factory.UnsatisfiedDependencyException. Message: Error creating bean with name 'webMvcMetricsFilter' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'webMvcMetricsFilter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simpleMeterRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourcePoolMetadataMeterBinder' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration$DataSourcePoolMetadataMetricsConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourcePoolMetadataMeterBinder' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/reward/audience/config/DatabaseConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.
[] 2025-06-10 22:58:33.771 [main] INFO  org.apache.catalina.core.StandardService - Stopping service [Tomcat]
[] 2025-06-10 22:58:33.784 [main] WARN  o.s.b.w.s.c.AnnotationConfigServletWebServerApplicationContext - Exception encountered during context initialization - cancelling refresh attempt: org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
[] 2025-06-10 22:58:33.792 [main] INFO  o.s.b.a.l.ConditionEvaluationReportLoggingListener - 

Error starting ApplicationContext. To display the conditions report re-run your application with 'debug' enabled.
[] 2025-06-10 22:58:33.813 [main] ERROR org.springframework.boot.SpringApplication - Application run failed
org.springframework.context.ApplicationContextException: Unable to start web server; nested exception is org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:165)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:585)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:147)
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:732)
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:409)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:308)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1300)
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1289)
	at com.reward.audience.AudienceServiceApplication.main(AudienceServiceApplication.java:18)
Caused by: org.springframework.boot.web.server.WebServerException: Unable to start embedded Tomcat
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:142)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.<init>(TomcatWebServer.java:104)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getTomcatWebServer(TomcatServletWebServerFactory.java:481)
	at org.springframework.boot.web.embedded.tomcat.TomcatServletWebServerFactory.getWebServer(TomcatServletWebServerFactory.java:211)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.createWebServer(ServletWebServerApplicationContext.java:184)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.onRefresh(ServletWebServerApplicationContext.java:162)
	... 8 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'webMvcMetricsFilter' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/web/servlet/WebMvcMetricsAutoConfiguration.class]: Unsatisfied dependency expressed through method 'webMvcMetricsFilter' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simpleMeterRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourcePoolMetadataMeterBinder' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration$DataSourcePoolMetadataMetricsConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourcePoolMetadataMeterBinder' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/reward/audience/config/DatabaseConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:536)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:213)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:213)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.getOrderedBeansOfType(ServletContextInitializerBeans.java:204)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.addServletContextInitializerBeans(ServletContextInitializerBeans.java:98)
	at org.springframework.boot.web.servlet.ServletContextInitializerBeans.<init>(ServletContextInitializerBeans.java:86)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.getServletContextInitializerBeans(ServletWebServerApplicationContext.java:262)
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.selfInitialize(ServletWebServerApplicationContext.java:236)
	at org.springframework.boot.web.embedded.tomcat.TomcatStarter.onStartup(TomcatStarter.java:53)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:4904)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardHost.startInternal(StandardHost.java:794)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1332)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1322)
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317)
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75)
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:145)
	at org.apache.catalina.core.ContainerBase.startInternal(ContainerBase.java:866)
	at org.apache.catalina.core.StandardEngine.startInternal(StandardEngine.java:248)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardService.startInternal(StandardService.java:433)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.core.StandardServer.startInternal(StandardServer.java:921)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:171)
	at org.apache.catalina.startup.Tomcat.start(Tomcat.java:489)
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.initialize(TomcatWebServer.java:123)
	... 13 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'simpleMeterRegistry' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/export/simple/SimpleMetricsExportAutoConfiguration.class]: Initialization of bean failed; nested exception is org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourcePoolMetadataMeterBinder' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration$DataSourcePoolMetadataMetricsConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourcePoolMetadataMeterBinder' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/reward/audience/config/DatabaseConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:628)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1391)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 53 common frames omitted
Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'dataSourcePoolMetadataMeterBinder' defined in class path resource [org/springframework/boot/actuate/autoconfigure/metrics/jdbc/DataSourcePoolMetricsAutoConfiguration$DataSourcePoolMetadataMetricsConfiguration.class]: Unsatisfied dependency expressed through method 'dataSourcePoolMetadataMeterBinder' parameter 0; nested exception is org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/reward/audience/config/DatabaseConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:536)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1616)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1573)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1417)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1349)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.resolveStream(DefaultListableBeanFactory.java:2119)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory$DependencyObjectProvider.orderedStream(DefaultListableBeanFactory.java:2113)
	at org.springframework.boot.actuate.autoconfigure.metrics.MeterRegistryConfigurer.addBinders(MeterRegistryConfigurer.java:87)
	at org.springframework.boot.actuate.autoconfigure.metrics.MeterRegistryConfigurer.configure(MeterRegistryConfigurer.java:68)
	at org.springframework.boot.actuate.autoconfigure.metrics.MeterRegistryPostProcessor.postProcessAfterInitialization(MeterRegistryPostProcessor.java:64)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.applyBeanPostProcessorsAfterInitialization(AbstractAutowireCapableBeanFactory.java:455)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.initializeBean(AbstractAutowireCapableBeanFactory.java:1808)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:620)
	... 63 common frames omitted
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'dataSource' defined in class path resource [com/reward/audience/config/DatabaseConfig.class]: Bean instantiation via factory method failed; nested exception is org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:653)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiateUsingFactoryMethod(ConstructorResolver.java:633)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.instantiateUsingFactoryMethod(AbstractAutowireCapableBeanFactory.java:1352)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1195)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:582)
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:542)
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:335)
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234)
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:333)
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:208)
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:276)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.addCandidateEntry(DefaultListableBeanFactory.java:1609)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.findAutowireCandidates(DefaultListableBeanFactory.java:1573)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveMultipleBeans(DefaultListableBeanFactory.java:1492)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1349)
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1311)
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:911)
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788)
	... 85 common frames omitted
Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [javax.sql.DataSource]: Factory method 'dataSource' threw exception; nested exception is java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:185)
	at org.springframework.beans.factory.support.ConstructorResolver.instantiate(ConstructorResolver.java:648)
	... 102 common frames omitted
Caused by: java.lang.IllegalArgumentException: dataSource or dataSourceClassName or jdbcUrl is required.
	at com.zaxxer.hikari.HikariConfig.validate(HikariConfig.java:1029)
	at com.zaxxer.hikari.HikariDataSource.<init>(HikariDataSource.java:77)
	at com.reward.audience.config.DatabaseConfig.dataSource(DatabaseConfig.java:28)
	at com.reward.audience.config.DatabaseConfig$$EnhancerBySpringCGLIB$$c45b6bb8.CGLIB$dataSource$0(<generated>)
	at com.reward.audience.config.DatabaseConfig$$EnhancerBySpringCGLIB$$c45b6bb8$$FastClassBySpringCGLIB$$12eb9da8.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invokeSuper(MethodProxy.java:244)
	at org.springframework.context.annotation.ConfigurationClassEnhancer$BeanMethodInterceptor.intercept(ConfigurationClassEnhancer.java:331)
	at com.reward.audience.config.DatabaseConfig$$EnhancerBySpringCGLIB$$c45b6bb8.dataSource(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.beans.factory.support.SimpleInstantiationStrategy.instantiate(SimpleInstantiationStrategy.java:154)
	... 103 common frames omitted
[] 2025-06-10 23:02:28.821 [main] INFO  com.reward.audience.AudienceServiceApplication - Starting AudienceServiceApplication using Java 21.0.6 on LAPTOP-0CHPJDL7 with PID 43676 (F:\MyProject\live-reward-system\audience-service\target\classes started by 32683 in F:\MyProject\live-reward-system\audience-service)
[] 2025-06-10 23:02:28.823 [main] DEBUG com.reward.audience.AudienceServiceApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
[] 2025-06-10 23:02:28.824 [main] INFO  com.reward.audience.AudienceServiceApplication - No active profile set, falling back to 1 default profile: "default"
[] 2025-06-10 23:02:29.530 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
[] 2025-06-10 23:02:29.532 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[] 2025-06-10 23:02:29.552 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 6 ms. Found 0 Redis repository interfaces.
[] 2025-06-10 23:02:30.224 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8091 (http)
[] 2025-06-10 23:02:30.225 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
[] 2025-06-10 23:02:30.225 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
[] 2025-06-10 23:02:30.225 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[] 2025-06-10 23:02:30.251 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
[] 2025-06-10 23:02:30.263 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
[] 2025-06-10 23:02:30.264 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
[] 2025-06-10 23:02:30.363 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[] 2025-06-10 23:02:30.363 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1487 ms
[] 2025-06-10 23:02:30.992 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[] 2025-06-10 23:02:31.056 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 9 mappings in 'requestMappingHandlerMapping'
[] 2025-06-10 23:02:31.074 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
[] 2025-06-10 23:02:31.081 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
[] 2025-06-10 23:02:31.521 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
[] 2025-06-10 23:02:31.577 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8091 (http) with context path ''
[] 2025-06-10 23:02:31.589 [main] INFO  com.reward.audience.AudienceServiceApplication - Started AudienceServiceApplication in 3.171 seconds (JVM running for 3.51)
[] 2025-06-10 23:02:31.594 [pool-3-thread-1] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=496cb388b01d41d88a6d421027221246
[] 2025-06-10 23:02:31.614 [pool-3-thread-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[] 2025-06-10 23:02:31.836 [pool-3-thread-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[] 2025-06-10 23:02:45.371 [http-nio-8091-exec-1] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[] 2025-06-10 23:02:45.371 [http-nio-8091-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[] 2025-06-10 23:02:45.371 [http-nio-8091-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
[] 2025-06-10 23:02:45.371 [http-nio-8091-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
[] 2025-06-10 23:02:45.372 [http-nio-8091-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
[] 2025-06-10 23:02:45.373 [http-nio-8091-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2c2e3460
[] 2025-06-10 23:02:45.373 [http-nio-8091-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@120350eb
[] 2025-06-10 23:02:45.373 [http-nio-8091-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
[] 2025-06-10 23:02:45.373 [http-nio-8091-exec-1] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 2 ms
[f4049a0bc99147fab1a65c4ade82590a] 2025-06-10 23:02:45.381 [http-nio-8091-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/health", parameters={}
[f4049a0bc99147fab1a65c4ade82590a] 2025-06-10 23:02:45.388 [http-nio-8091-exec-1] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.reward.audience.controller.HealthController#health()
[f4049a0bc99147fab1a65c4ade82590a] 2025-06-10 23:02:45.420 [http-nio-8091-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.7, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
[f4049a0bc99147fab1a65c4ade82590a] 2025-06-10 23:02:45.421 [http-nio-8091-exec-1] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse{code=200, message='操作成功', data={port=8091, service=audience-service, version=1.0.0, stat (truncated)...]
[f4049a0bc99147fab1a65c4ade82590a] 2025-06-10 23:02:45.439 [http-nio-8091-exec-1] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[] 2025-06-10 23:03:01.943 [pool-3-thread-1] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=e66c68175c5e41ac96ee46a54c66d7a2
[] 2025-06-10 23:03:31.964 [pool-3-thread-1] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=9f346786fca448879545b8ad264790ca
[] 2025-06-10 23:04:01.996 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=890c3dded6274d5ba4af2b507a61d363
[d0df7a67d62c4c56bc52f9fb4cdea060] 2025-06-10 23:04:09.598 [http-nio-8091-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/audience/reward/top10/anchor_001", parameters={}
[d0df7a67d62c4c56bc52f9fb4cdea060] 2025-06-10 23:04:09.599 [http-nio-8091-exec-4] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.reward.audience.controller.RewardController#getTop10Audiences(String)
[d0df7a67d62c4c56bc52f9fb4cdea060] 2025-06-10 23:04:09.613 [http-nio-8091-exec-4] INFO  com.reward.audience.controller.RewardController - 查询主播TOP10观众: anchorId=anchor_001, traceId=d0df7a67d62c4c56bc52f9fb4cdea060
[d0df7a67d62c4c56bc52f9fb4cdea060] 2025-06-10 23:04:09.620 [http-nio-8091-exec-4] INFO  com.reward.audience.service.RewardService - 查询主播TOP10观众: anchorId=anchor_001, traceId=d0df7a67d62c4c56bc52f9fb4cdea060
[d0df7a67d62c4c56bc52f9fb4cdea060] 2025-06-10 23:04:09.664 [http-nio-8091-exec-4] INFO  com.reward.audience.service.RewardService - 查询TOP10观众成功: anchorId=anchor_001, count=0
[d0df7a67d62c4c56bc52f9fb4cdea060] 2025-06-10 23:04:09.664 [http-nio-8091-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
[d0df7a67d62c4c56bc52f9fb4cdea060] 2025-06-10 23:04:09.665 [http-nio-8091-exec-4] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse{code=200, message='操作成功', data=[], traceId='d0df7a67d62c4c56bc52f9fb4cdea060', timestamp (truncated)...]
[d0df7a67d62c4c56bc52f9fb4cdea060] 2025-06-10 23:04:09.667 [http-nio-8091-exec-4] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[] 2025-06-10 23:04:32.011 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=6ac75840685d48cdb5886b427063ffd7
[] 2025-06-10 23:05:02.025 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=c1e778bb96dd4ad8aa557d9ad4c92420
[6bbbebe95dfe47568b4dd83f41df3429] 2025-06-10 23:05:11.120 [http-nio-8091-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/audience/audience_001/stats", parameters={}
[6bbbebe95dfe47568b4dd83f41df3429] 2025-06-10 23:05:11.123 [http-nio-8091-exec-8] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.reward.audience.controller.RewardController#getAudienceStats(String)
[6bbbebe95dfe47568b4dd83f41df3429] 2025-06-10 23:05:11.125 [http-nio-8091-exec-8] INFO  com.reward.audience.controller.RewardController - 查询观众统计: audienceId=audience_001, traceId=6bbbebe95dfe47568b4dd83f41df3429
[6bbbebe95dfe47568b4dd83f41df3429] 2025-06-10 23:05:11.126 [http-nio-8091-exec-8] INFO  com.reward.audience.service.RewardService - 查询观众统计: audienceId=audience_001, traceId=6bbbebe95dfe47568b4dd83f41df3429
[6bbbebe95dfe47568b4dd83f41df3429] 2025-06-10 23:05:11.156 [http-nio-8091-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
[6bbbebe95dfe47568b4dd83f41df3429] 2025-06-10 23:05:11.158 [http-nio-8091-exec-8] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse{code=200, message='操作成功', data={totalAmount=0.00, minAmount=0.00, anchorCount=0, avgAmou (truncated)...]
[6bbbebe95dfe47568b4dd83f41df3429] 2025-06-10 23:05:11.181 [http-nio-8091-exec-8] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[] 2025-06-10 23:05:32.032 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=3b40ba7593174eb7b2f329333a4b9847
[] 2025-06-10 23:06:02.048 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=21e20810b04a4766b46962e961da4042
[] 2025-06-10 23:06:32.076 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=8b835d431f0f4701ab48a1ed6ffc8035
[] 2025-06-10 23:07:02.093 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=e483c19aeea24f3ab72dde6482ebcccd
[9dc984fa0f7842e191e0d508cfe41bba] 2025-06-10 23:07:02.684 [http-nio-8091-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - POST "/audience/reward", parameters={}
[9dc984fa0f7842e191e0d508cfe41bba] 2025-06-10 23:07:02.685 [http-nio-8091-exec-9] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.reward.audience.controller.RewardController#reward(RewardRequest, HttpServletRequest)
[9dc984fa0f7842e191e0d508cfe41bba] 2025-06-10 23:07:02.753 [http-nio-8091-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Read "application/json;charset=UTF-8" to [RewardRequest{audienceId='audience_001', anchorId='anchor_001', amount=100.5, audienceNickname='null (truncated)...]
[9dc984fa0f7842e191e0d508cfe41bba] 2025-06-10 23:07:02.803 [http-nio-8091-exec-9] INFO  com.reward.audience.controller.RewardController - 观众打赏请求: request=RewardRequest{audienceId='audience_001', anchorId='anchor_001', amount=100.5, audienceNickname='null', gender=null}, ip=0:0:0:0:0:0:0:1, traceId=9dc984fa0f7842e191e0d508cfe41bba
[9dc984fa0f7842e191e0d508cfe41bba] 2025-06-10 23:07:02.810 [http-nio-8091-exec-9] INFO  com.reward.audience.service.RewardService - 处理打赏请求: request=RewardRequest{audienceId='audience_001', anchorId='anchor_001', amount=100.5, audienceNickname='null', gender=null}, traceId=9dc984fa0f7842e191e0d508cfe41bba
[9dc984fa0f7842e191e0d508cfe41bba] 2025-06-10 23:07:02.840 [http-nio-8091-exec-9] INFO  com.reward.audience.service.RewardService - 打赏处理成功: recordId=RWD1749568022819432dd6a6, audienceId=audience_001, anchorId=anchor_001, amount=100.5
[] 2025-06-10 23:07:02.841 [task-1] INFO  com.reward.audience.service.DataSyncService - 开始异步同步打赏记录: recordId=RWD1749568022819432dd6a6, traceId=e862086c104d4fe38ffd4b2aade90b3c
[9dc984fa0f7842e191e0d508cfe41bba] 2025-06-10 23:07:02.851 [http-nio-8091-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
[9dc984fa0f7842e191e0d508cfe41bba] 2025-06-10 23:07:02.852 [http-nio-8091-exec-9] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse{code=200, message='操作成功', data=null, traceId='9dc984fa0f7842e191e0d508cfe41bba', timesta (truncated)...]
[9dc984fa0f7842e191e0d508cfe41bba] 2025-06-10 23:07:02.853 [http-nio-8091-exec-9] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[] 2025-06-10 23:07:02.860 [task-1] DEBUG org.springframework.web.client.RestTemplate - HTTP POST http://localhost:8092/finance/settlement
[] 2025-06-10 23:07:02.862 [task-1] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
[] 2025-06-10 23:07:02.863 [task-1] DEBUG org.springframework.web.client.RestTemplate - Writing [{recordId=RWD1749568022819432dd6a6, traceId=e862086c104d4fe38ffd4b2aade90b3c, rewardTime=2025-06-10 23:07:02.821, amount=100.5, audienceId=audience_001, anchorId=anchor_001}] as "application/json"
[] 2025-06-10 23:07:02.896 [task-1] ERROR com.reward.audience.service.DataSyncService - 同步到财务服务失败: recordId=RWD1749568022819432dd6a6, error=I/O error on POST request for "http://localhost:8092/finance/settlement": Connection refused: getsockopt; nested exception is java.net.ConnectException: Connection refused: getsockopt
[] 2025-06-10 23:07:02.901 [task-1] ERROR com.reward.audience.service.DataSyncService - 打赏记录同步失败: recordId=RWD1749568022819432dd6a6, error=I/O error on POST request for "http://localhost:8092/finance/settlement": Connection refused: getsockopt; nested exception is java.net.ConnectException: Connection refused: getsockopt
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8092/finance/settlement": Connection refused: getsockopt; nested exception is java.net.ConnectException: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:443)
	at com.reward.audience.service.DataSyncService.syncToFinanceService(DataSyncService.java:151)
	at com.reward.audience.service.DataSyncService.syncRewardRecord(DataSyncService.java:71)
	at com.reward.audience.service.DataSyncService$$FastClassBySpringCGLIB$$582145bf.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:792)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:762)
	at org.springframework.aop.interceptor.AsyncExecutionInterceptor.lambda$invoke$0(AsyncExecutionInterceptor.java:115)
	at org.springframework.aop.interceptor.AsyncExecutionAspectSupport.lambda$doSubmit$3(AsyncExecutionAspectSupport.java:278)
	at java.base/java.util.concurrent.CompletableFuture$AsyncSupply.run(CompletableFuture.java:1768)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:109)
	at com.reward.common.config.RestTemplateConfig$TraceIdInterceptor.intercept(RestTemplateConfig.java:55)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 15 common frames omitted
[] 2025-06-10 23:07:32.109 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=01227f4f133e425caf00166cc1398912
[] 2025-06-10 23:07:32.117 [pool-3-thread-3] INFO  com.reward.audience.service.DataSyncService - 找到1条需要重试同步的记录
[] 2025-06-10 23:07:32.118 [pool-3-thread-3] INFO  com.reward.audience.service.DataSyncService - 开始异步同步打赏记录: recordId=RWD1749568022819432dd6a6, traceId=9dc984fa0f7842e191e0d508cfe41bba
[] 2025-06-10 23:07:32.122 [pool-3-thread-3] DEBUG org.springframework.web.client.RestTemplate - HTTP POST http://localhost:8092/finance/settlement
[] 2025-06-10 23:07:32.122 [pool-3-thread-3] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
[] 2025-06-10 23:07:32.123 [pool-3-thread-3] DEBUG org.springframework.web.client.RestTemplate - Writing [{recordId=RWD1749568022819432dd6a6, traceId=9dc984fa0f7842e191e0d508cfe41bba, rewardTime=2025-06-10 23:07:03.0, amount=100.50, audienceId=audience_001, anchorId=anchor_001}] as "application/json"
[] 2025-06-10 23:07:32.141 [pool-3-thread-3] ERROR com.reward.audience.service.DataSyncService - 同步到财务服务失败: recordId=RWD1749568022819432dd6a6, error=I/O error on POST request for "http://localhost:8092/finance/settlement": Connection refused: getsockopt; nested exception is java.net.ConnectException: Connection refused: getsockopt
[] 2025-06-10 23:07:32.144 [pool-3-thread-3] ERROR com.reward.audience.service.DataSyncService - 打赏记录同步失败: recordId=RWD1749568022819432dd6a6, error=I/O error on POST request for "http://localhost:8092/finance/settlement": Connection refused: getsockopt; nested exception is java.net.ConnectException: Connection refused: getsockopt
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8092/finance/settlement": Connection refused: getsockopt; nested exception is java.net.ConnectException: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:443)
	at com.reward.audience.service.DataSyncService.syncToFinanceService(DataSyncService.java:151)
	at com.reward.audience.service.DataSyncService.syncRewardRecord(DataSyncService.java:71)
	at com.reward.audience.service.DataSyncService.retryFailedSync(DataSyncService.java:115)
	at com.reward.audience.service.DataSyncService$$FastClassBySpringCGLIB$$582145bf.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.reward.audience.service.DataSyncService$$EnhancerBySpringCGLIB$$81530677.retryFailedSync(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:109)
	at com.reward.common.config.RestTemplateConfig$TraceIdInterceptor.intercept(RestTemplateConfig.java:55)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 21 common frames omitted
[ede8dbf359e648e6b666c6997cf4dd0e] 2025-06-10 23:07:54.344 [http-nio-8091-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/audience/reward/top10/anchor_001", parameters={}
[ede8dbf359e648e6b666c6997cf4dd0e] 2025-06-10 23:07:54.348 [http-nio-8091-exec-6] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.reward.audience.controller.RewardController#getTop10Audiences(String)
[ede8dbf359e648e6b666c6997cf4dd0e] 2025-06-10 23:07:54.350 [http-nio-8091-exec-6] INFO  com.reward.audience.controller.RewardController - 查询主播TOP10观众: anchorId=anchor_001, traceId=ede8dbf359e648e6b666c6997cf4dd0e
[ede8dbf359e648e6b666c6997cf4dd0e] 2025-06-10 23:07:54.351 [http-nio-8091-exec-6] INFO  com.reward.audience.service.RewardService - 查询主播TOP10观众: anchorId=anchor_001, traceId=ede8dbf359e648e6b666c6997cf4dd0e
[ede8dbf359e648e6b666c6997cf4dd0e] 2025-06-10 23:07:54.377 [http-nio-8091-exec-6] INFO  com.reward.audience.service.RewardService - 查询TOP10观众成功: anchorId=anchor_001, count=1
[ede8dbf359e648e6b666c6997cf4dd0e] 2025-06-10 23:07:54.379 [http-nio-8091-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
[ede8dbf359e648e6b666c6997cf4dd0e] 2025-06-10 23:07:54.381 [http-nio-8091-exec-6] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse{code=200, message='操作成功', data=[TopAudienceVO{audienceId='audience_001', nickname='观众小王' (truncated)...]
[ede8dbf359e648e6b666c6997cf4dd0e] 2025-06-10 23:07:54.396 [http-nio-8091-exec-6] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[] 2025-06-10 23:08:02.167 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=87bf91597eda47a3ba1c98a42c002a66
[] 2025-06-10 23:08:02.173 [pool-3-thread-3] INFO  com.reward.audience.service.DataSyncService - 找到1条需要重试同步的记录
[] 2025-06-10 23:08:02.173 [pool-3-thread-3] INFO  com.reward.audience.service.DataSyncService - 开始异步同步打赏记录: recordId=RWD1749568022819432dd6a6, traceId=9dc984fa0f7842e191e0d508cfe41bba
[] 2025-06-10 23:08:02.177 [pool-3-thread-3] DEBUG org.springframework.web.client.RestTemplate - HTTP POST http://localhost:8092/finance/settlement
[] 2025-06-10 23:08:02.177 [pool-3-thread-3] DEBUG org.springframework.web.client.RestTemplate - Accept=[text/plain, application/json, application/*+json, */*]
[] 2025-06-10 23:08:02.178 [pool-3-thread-3] DEBUG org.springframework.web.client.RestTemplate - Writing [{recordId=RWD1749568022819432dd6a6, traceId=9dc984fa0f7842e191e0d508cfe41bba, rewardTime=2025-06-10 23:07:03.0, amount=100.50, audienceId=audience_001, anchorId=anchor_001}] as "application/json"
[] 2025-06-10 23:08:02.198 [pool-3-thread-3] ERROR com.reward.audience.service.DataSyncService - 同步到财务服务失败: recordId=RWD1749568022819432dd6a6, error=I/O error on POST request for "http://localhost:8092/finance/settlement": Connection refused: getsockopt; nested exception is java.net.ConnectException: Connection refused: getsockopt
[] 2025-06-10 23:08:02.199 [pool-3-thread-3] ERROR com.reward.audience.service.DataSyncService - 打赏记录同步失败: recordId=RWD1749568022819432dd6a6, error=I/O error on POST request for "http://localhost:8092/finance/settlement": Connection refused: getsockopt; nested exception is java.net.ConnectException: Connection refused: getsockopt
org.springframework.web.client.ResourceAccessException: I/O error on POST request for "http://localhost:8092/finance/settlement": Connection refused: getsockopt; nested exception is java.net.ConnectException: Connection refused: getsockopt
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:791)
	at org.springframework.web.client.RestTemplate.execute(RestTemplate.java:717)
	at org.springframework.web.client.RestTemplate.postForObject(RestTemplate.java:443)
	at com.reward.audience.service.DataSyncService.syncToFinanceService(DataSyncService.java:151)
	at com.reward.audience.service.DataSyncService.syncRewardRecord(DataSyncService.java:71)
	at com.reward.audience.service.DataSyncService.retryFailedSync(DataSyncService.java:115)
	at com.reward.audience.service.DataSyncService$$FastClassBySpringCGLIB$$582145bf.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.reward.audience.service.DataSyncService$$EnhancerBySpringCGLIB$$81530677.retryFailedSync(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: java.net.ConnectException: Connection refused: getsockopt
	at java.base/sun.nio.ch.Net.pollConnect(Native Method)
	at java.base/sun.nio.ch.Net.pollConnectNow(Net.java:682)
	at java.base/sun.nio.ch.NioSocketImpl.timedFinishConnect(NioSocketImpl.java:542)
	at java.base/sun.nio.ch.NioSocketImpl.connect(NioSocketImpl.java:592)
	at java.base/java.net.Socket.connect(Socket.java:751)
	at java.base/sun.net.NetworkClient.doConnect(NetworkClient.java:178)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:531)
	at java.base/sun.net.www.http.HttpClient.openServer(HttpClient.java:636)
	at java.base/sun.net.www.http.HttpClient.<init>(HttpClient.java:280)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:386)
	at java.base/sun.net.www.http.HttpClient.New(HttpClient.java:408)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.getNewHttpClient(HttpURLConnection.java:1319)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect0(HttpURLConnection.java:1252)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.plainConnect(HttpURLConnection.java:1138)
	at java.base/sun.net.www.protocol.http.HttpURLConnection.connect(HttpURLConnection.java:1067)
	at org.springframework.http.client.SimpleBufferingClientHttpRequest.executeInternal(SimpleBufferingClientHttpRequest.java:76)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:109)
	at com.reward.common.config.RestTemplateConfig$TraceIdInterceptor.intercept(RestTemplateConfig.java:55)
	at org.springframework.http.client.InterceptingClientHttpRequest$InterceptingRequestExecution.execute(InterceptingClientHttpRequest.java:93)
	at org.springframework.http.client.InterceptingClientHttpRequest.executeInternal(InterceptingClientHttpRequest.java:77)
	at org.springframework.http.client.AbstractBufferingClientHttpRequest.executeInternal(AbstractBufferingClientHttpRequest.java:48)
	at org.springframework.http.client.AbstractClientHttpRequest.execute(AbstractClientHttpRequest.java:66)
	at org.springframework.web.client.RestTemplate.doExecute(RestTemplate.java:782)
	... 21 common frames omitted
[4e1195c9b8374cf9bdee225b4a4fead5] 2025-06-10 23:08:07.066 [http-nio-8091-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/audience/audience_001/stats", parameters={}
[4e1195c9b8374cf9bdee225b4a4fead5] 2025-06-10 23:08:07.067 [http-nio-8091-exec-10] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.reward.audience.controller.RewardController#getAudienceStats(String)
[4e1195c9b8374cf9bdee225b4a4fead5] 2025-06-10 23:08:07.068 [http-nio-8091-exec-10] INFO  com.reward.audience.controller.RewardController - 查询观众统计: audienceId=audience_001, traceId=4e1195c9b8374cf9bdee225b4a4fead5
[4e1195c9b8374cf9bdee225b4a4fead5] 2025-06-10 23:08:07.069 [http-nio-8091-exec-10] INFO  com.reward.audience.service.RewardService - 查询观众统计: audienceId=audience_001, traceId=4e1195c9b8374cf9bdee225b4a4fead5
[4e1195c9b8374cf9bdee225b4a4fead5] 2025-06-10 23:08:07.080 [http-nio-8091-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json', given [*/*] and supported [application/json, application/*+json, application/json, application/*+json]
[4e1195c9b8374cf9bdee225b4a4fead5] 2025-06-10 23:08:07.081 [http-nio-8091-exec-10] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse{code=200, message='操作成功', data={totalAmount=100.50, minAmount=100.50, anchorCount=1, avg (truncated)...]
[4e1195c9b8374cf9bdee225b4a4fead5] 2025-06-10 23:08:07.082 [http-nio-8091-exec-10] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
[] 2025-06-10 23:08:32.209 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=e7a2905d2cbb4a9b856886ab420e3fd4
[] 2025-06-10 23:09:02.228 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=d5ecd7f30d1046eaa6e4420af4234718
[] 2025-06-10 23:09:32.239 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=be46de2c314448c9ad552b5a63d159cd
[] 2025-06-10 23:10:02.250 [pool-3-thread-3] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=a3ff22ff52c6406d9c4a6b145fac746e
[] 2025-06-10 23:10:32.282 [pool-3-thread-5] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=82aaaf4208104e25b37f747f437501a3
[] 2025-06-10 23:11:02.320 [pool-3-thread-5] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=71be61eab0b34991ab6d0fcfca2f5a04
[] 2025-06-10 23:11:32.340 [pool-3-thread-5] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=cc7a6704460d4111b8e5bc6d21ef307a
[] 2025-06-10 23:12:02.368 [pool-3-thread-5] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=0d12b4fd0d07445490a3097f3386595f
[] 2025-06-10 23:12:32.400 [pool-3-thread-5] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=50617d8b25194f7f9c7325d37d0d5327
[] 2025-06-10 23:13:02.420 [pool-3-thread-5] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=d02e1e6849c84a78aa2a988668b4dfda
[] 2025-06-10 23:13:32.445 [pool-3-thread-5] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=ad0a4370b89c4884a2c7deebb53efe90
[] 2025-06-10 23:14:02.470 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=a0e9fc4491ef432c853b63a3d39c9fd5
[] 2025-06-10 23:14:32.484 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=8fc1af97a4284368b6a659929c6742de
[] 2025-06-10 23:15:02.506 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=71fb55795866425aa5d7b0f6a1579cb4
[] 2025-06-10 23:15:32.535 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=a0d8154f13864c769b7af750547eaaed
[] 2025-06-10 23:16:02.550 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=0428ab2d8c7049df8e6d4c48db76ec21
[] 2025-06-10 23:16:32.556 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=59d1a7d96ba54a918519bf7ba5ece8e0
[] 2025-06-10 23:17:02.570 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=52b40c6b318e4954b81212aaa95cef7f
[] 2025-06-10 23:17:32.598 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=7920d7541c05420c9e349be009c9caec
[] 2025-06-10 23:18:02.618 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=9af194f8defd404abf979a0055a5544c
[] 2025-06-10 23:18:32.642 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=4703bc7a057b45d9bc01c6308f214574
[] 2025-06-10 23:19:02.670 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=c3ef57546a07423fab0277346f8a8b35
[] 2025-06-10 23:19:32.692 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=c9383783ca724ff5959b0bd592b2be8c
[] 2025-06-10 23:20:02.704 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=d7201bf4e6fd4b2f8a090524f5cbca02
[] 2025-06-10 23:20:32.717 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=86c3e46342454e3ea68be551322b5ce2
[] 2025-06-10 23:21:02.737 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=d419b57cb62b4699b1fceaf37e522d81
[] 2025-06-10 23:21:32.746 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=8d3306bee77e40cf85754249a79c5267
[] 2025-06-10 23:22:02.766 [pool-3-thread-2] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=98c8976049ac4c0691613b5c46b00dcc
[] 2025-06-10 23:22:08.852 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
[] 2025-06-10 23:22:08.877 [SpringApplicationShutdownHook] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
[] 2025-06-10 23:37:33.738 [main] INFO  com.reward.audience.AudienceServiceApplication - Starting AudienceServiceApplication using Java 21.0.6 on LAPTOP-0CHPJDL7 with PID 43904 (F:\MyProject\live-reward-system\audience-service\target\classes started by 32683 in F:\MyProject\live-reward-system\audience-service)
[] 2025-06-10 23:37:33.741 [main] DEBUG com.reward.audience.AudienceServiceApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
[] 2025-06-10 23:37:33.741 [main] INFO  com.reward.audience.AudienceServiceApplication - No active profile set, falling back to 1 default profile: "default"
[] 2025-06-10 23:37:34.365 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
[] 2025-06-10 23:37:34.367 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[] 2025-06-10 23:37:34.382 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
[] 2025-06-10 23:37:34.931 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8091 (http)
[] 2025-06-10 23:37:34.932 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
[] 2025-06-10 23:37:34.933 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
[] 2025-06-10 23:37:34.934 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[] 2025-06-10 23:37:34.938 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
[] 2025-06-10 23:37:34.945 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
[] 2025-06-10 23:37:34.946 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
[] 2025-06-10 23:37:35.033 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[] 2025-06-10 23:37:35.034 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1244 ms
[] 2025-06-10 23:37:35.611 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[] 2025-06-10 23:37:35.677 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 9 mappings in 'requestMappingHandlerMapping'
[] 2025-06-10 23:37:35.695 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
[] 2025-06-10 23:37:35.704 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
[] 2025-06-10 23:37:36.213 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
[] 2025-06-10 23:37:36.266 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8091 (http) with context path ''
[] 2025-06-10 23:37:36.285 [main] INFO  com.reward.audience.AudienceServiceApplication - Started AudienceServiceApplication in 2.948 seconds (JVM running for 3.274)
[] 2025-06-10 23:37:36.292 [pool-3-thread-1] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=1abbe5db48c54579ae88a46cea9187e7
[] 2025-06-10 23:37:36.311 [pool-3-thread-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[] 2025-06-10 23:37:37.553 [pool-3-thread-1] ERROR com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Exception during pool initialization.
java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:345)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:333)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	at jdk.proxy2/jdk.proxy2.$Proxy85.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy90.findFailedSyncRecords(Unknown Source)
	at com.reward.audience.service.DataSyncService.retryFailedSync(DataSyncService.java:101)
	at com.reward.audience.service.DataSyncService$$FastClassBySpringCGLIB$$582145bf.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.reward.audience.service.DataSyncService$$EnhancerBySpringCGLIB$$f902fdc8.retryFailedSync(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
[] 2025-06-10 23:37:37.558 [pool-3-thread-1] ERROR com.reward.audience.service.DataSyncService - 重试同步任务执行失败: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
### The error may exist in file [F:\MyProject\live-reward-system\audience-service\target\classes\mapper\RewardRecordMapper.xml]
### The error may involve com.reward.audience.mapper.RewardRecordMapper.findFailedSyncRecords
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
### The error may exist in file [F:\MyProject\live-reward-system\audience-service\target\classes\mapper\RewardRecordMapper.xml]
### The error may involve com.reward.audience.mapper.RewardRecordMapper.findFailedSyncRecords
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at org.mybatis.spring.MyBatisExceptionTranslator.translateExceptionIfPossible(MyBatisExceptionTranslator.java:97)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:439)
	at jdk.proxy2/jdk.proxy2.$Proxy85.selectList(Unknown Source)
	at org.mybatis.spring.SqlSessionTemplate.selectList(SqlSessionTemplate.java:224)
	at org.apache.ibatis.binding.MapperMethod.executeForMany(MapperMethod.java:147)
	at org.apache.ibatis.binding.MapperMethod.execute(MapperMethod.java:80)
	at org.apache.ibatis.binding.MapperProxy$PlainMethodInvoker.invoke(MapperProxy.java:142)
	at org.apache.ibatis.binding.MapperProxy.invoke(MapperProxy.java:86)
	at jdk.proxy2/jdk.proxy2.$Proxy90.findFailedSyncRecords(Unknown Source)
	at com.reward.audience.service.DataSyncService.retryFailedSync(DataSyncService.java:101)
	at com.reward.audience.service.DataSyncService$$FastClassBySpringCGLIB$$582145bf.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy.invokeMethod(CglibAopProxy.java:386)
	at org.springframework.aop.framework.CglibAopProxy.access$000(CglibAopProxy.java:85)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:703)
	at com.reward.audience.service.DataSyncService$$EnhancerBySpringCGLIB$$f902fdc8.retryFailedSync(<generated>)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.springframework.scheduling.support.ScheduledMethodRunnable.run(ScheduledMethodRunnable.java:84)
	at org.springframework.scheduling.support.DelegatingErrorHandlingRunnable.run(DelegatingErrorHandlingRunnable.java:54)
	at java.base/java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:572)
	at java.base/java.util.concurrent.FutureTask.runAndReset(FutureTask.java:358)
	at java.base/java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:305)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1144)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.apache.ibatis.exceptions.PersistenceException: 
### Error querying database.  Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
### The error may exist in file [F:\MyProject\live-reward-system\audience-service\target\classes\mapper\RewardRecordMapper.xml]
### The error may involve com.reward.audience.mapper.RewardRecordMapper.findFailedSyncRecords
### The error occurred while executing a query
### Cause: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at org.apache.ibatis.exceptions.ExceptionFactory.wrapException(ExceptionFactory.java:30)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:156)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:147)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:142)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.mybatis.spring.SqlSessionTemplate$SqlSessionInterceptor.invoke(SqlSessionTemplate.java:425)
	... 24 common frames omitted
Caused by: org.springframework.jdbc.CannotGetJdbcConnectionException: Failed to obtain JDBC Connection; nested exception is java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:84)
	at org.mybatis.spring.transaction.SpringManagedTransaction.openConnection(SpringManagedTransaction.java:80)
	at org.mybatis.spring.transaction.SpringManagedTransaction.getConnection(SpringManagedTransaction.java:67)
	at org.apache.ibatis.executor.BaseExecutor.getConnection(BaseExecutor.java:345)
	at org.apache.ibatis.executor.SimpleExecutor.prepareStatement(SimpleExecutor.java:89)
	at org.apache.ibatis.executor.SimpleExecutor.doQuery(SimpleExecutor.java:64)
	at org.apache.ibatis.executor.BaseExecutor.queryFromDatabase(BaseExecutor.java:333)
	at org.apache.ibatis.executor.BaseExecutor.query(BaseExecutor.java:158)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:110)
	at org.apache.ibatis.executor.CachingExecutor.query(CachingExecutor.java:90)
	at org.apache.ibatis.session.defaults.DefaultSqlSession.selectList(DefaultSqlSession.java:154)
	... 29 common frames omitted
Caused by: java.sql.SQLException: Access denied for user 'root'@'localhost' (using password: YES)
	at com.mysql.cj.jdbc.exceptions.SQLError.createSQLException(SQLError.java:130)
	at com.mysql.cj.jdbc.exceptions.SQLExceptionsMapping.translateException(SQLExceptionsMapping.java:122)
	at com.mysql.cj.jdbc.ConnectionImpl.createNewIO(ConnectionImpl.java:825)
	at com.mysql.cj.jdbc.ConnectionImpl.<init>(ConnectionImpl.java:446)
	at com.mysql.cj.jdbc.ConnectionImpl.getInstance(ConnectionImpl.java:239)
	at com.mysql.cj.jdbc.NonRegisteringDriver.connect(NonRegisteringDriver.java:188)
	at com.zaxxer.hikari.util.DriverDataSource.getConnection(DriverDataSource.java:138)
	at com.zaxxer.hikari.pool.PoolBase.newConnection(PoolBase.java:364)
	at com.zaxxer.hikari.pool.PoolBase.newPoolEntry(PoolBase.java:206)
	at com.zaxxer.hikari.pool.HikariPool.createPoolEntry(HikariPool.java:476)
	at com.zaxxer.hikari.pool.HikariPool.checkFailFast(HikariPool.java:561)
	at com.zaxxer.hikari.pool.HikariPool.<init>(HikariPool.java:115)
	at com.zaxxer.hikari.HikariDataSource.getConnection(HikariDataSource.java:112)
	at org.springframework.jdbc.datasource.DataSourceUtils.fetchConnection(DataSourceUtils.java:160)
	at org.springframework.jdbc.datasource.DataSourceUtils.doGetConnection(DataSourceUtils.java:118)
	at org.springframework.jdbc.datasource.DataSourceUtils.getConnection(DataSourceUtils.java:81)
	... 39 common frames omitted
[] 2025-06-10 23:38:08.929 [main] INFO  com.reward.audience.AudienceServiceApplication - Starting AudienceServiceApplication using Java 21.0.6 on LAPTOP-0CHPJDL7 with PID 60392 (F:\MyProject\live-reward-system\audience-service\target\classes started by 32683 in F:\MyProject\live-reward-system\audience-service)
[] 2025-06-10 23:38:08.931 [main] DEBUG com.reward.audience.AudienceServiceApplication - Running with Spring Boot v2.7.18, Spring v5.3.31
[] 2025-06-10 23:38:08.932 [main] INFO  com.reward.audience.AudienceServiceApplication - No active profile set, falling back to 1 default profile: "default"
[] 2025-06-10 23:38:09.565 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Multiple Spring Data modules found, entering strict repository configuration mode
[] 2025-06-10 23:38:09.569 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Bootstrapping Spring Data Redis repositories in DEFAULT mode.
[] 2025-06-10 23:38:09.583 [main] INFO  o.s.d.r.config.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 4 ms. Found 0 Redis repository interfaces.
[] 2025-06-10 23:38:10.157 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat initialized with port(s): 8091 (http)
[] 2025-06-10 23:38:10.158 [main] INFO  org.apache.catalina.core.AprLifecycleListener - Loaded Apache Tomcat Native library [2.0.8] using APR version [1.7.4].
[] 2025-06-10 23:38:10.158 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR capabilities: IPv6 [true], sendfile [true], accept filters [false], random [true], UDS [true].
[] 2025-06-10 23:38:10.159 [main] INFO  org.apache.catalina.core.AprLifecycleListener - APR/OpenSSL configuration: useAprConnector [false], useOpenSSL [true]
[] 2025-06-10 23:38:10.166 [main] INFO  org.apache.catalina.core.AprLifecycleListener - OpenSSL successfully initialized [OpenSSL 3.0.14 4 Jun 2024]
[] 2025-06-10 23:38:10.180 [main] INFO  org.apache.catalina.core.StandardService - Starting service [Tomcat]
[] 2025-06-10 23:38:10.181 [main] INFO  org.apache.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.83]
[] 2025-06-10 23:38:10.312 [main] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
[] 2025-06-10 23:38:10.312 [main] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1329 ms
[] 2025-06-10 23:38:10.876 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerAdapter - ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
[] 2025-06-10 23:38:10.937 [main] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - 9 mappings in 'requestMappingHandlerMapping'
[] 2025-06-10 23:38:10.960 [main] DEBUG o.s.web.servlet.handler.SimpleUrlHandlerMapping - Patterns [/webjars/**, /**] in 'resourceHandlerMapping'
[] 2025-06-10 23:38:10.971 [main] DEBUG o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
[] 2025-06-10 23:38:11.387 [main] INFO  o.s.b.actuate.endpoint.web.EndpointLinksResolver - Exposing 3 endpoint(s) beneath base path '/actuator'
[] 2025-06-10 23:38:11.428 [main] INFO  o.s.boot.web.embedded.tomcat.TomcatWebServer - Tomcat started on port(s): 8091 (http) with context path ''
[] 2025-06-10 23:38:11.441 [main] INFO  com.reward.audience.AudienceServiceApplication - Started AudienceServiceApplication in 2.946 seconds (JVM running for 3.304)
[] 2025-06-10 23:38:11.446 [pool-3-thread-1] DEBUG com.reward.audience.service.DataSyncService - 开始重试同步失败的记录, traceId=99a8cce36cc9457c93db04287d59a93a
[] 2025-06-10 23:38:11.464 [pool-3-thread-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
[] 2025-06-10 23:38:11.657 [pool-3-thread-1] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
[] 2025-06-10 23:38:15.547 [http-nio-8091-exec-3] INFO  o.a.c.core.ContainerBase.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
[] 2025-06-10 23:38:15.548 [http-nio-8091-exec-3] INFO  org.springframework.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
[] 2025-06-10 23:38:15.548 [http-nio-8091-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected StandardServletMultipartResolver
[] 2025-06-10 23:38:15.548 [http-nio-8091-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected AcceptHeaderLocaleResolver
[] 2025-06-10 23:38:15.548 [http-nio-8091-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected FixedThemeResolver
[] 2025-06-10 23:38:15.549 [http-nio-8091-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3b96f8b0
[] 2025-06-10 23:38:15.550 [http-nio-8091-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Detected org.springframework.web.servlet.support.SessionFlashMapManager@2ccc9681
[] 2025-06-10 23:38:15.550 [http-nio-8091-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
[] 2025-06-10 23:38:15.551 [http-nio-8091-exec-3] INFO  org.springframework.web.servlet.DispatcherServlet - Completed initialization in 3 ms
[7f89634403814c26b10d64fae89cb81e] 2025-06-10 23:38:15.559 [http-nio-8091-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - GET "/health", parameters={}
[7f89634403814c26b10d64fae89cb81e] 2025-06-10 23:38:15.566 [http-nio-8091-exec-3] DEBUG o.s.w.s.m.m.a.RequestMappingHandlerMapping - Mapped to com.reward.audience.controller.HealthController#health()
[7f89634403814c26b10d64fae89cb81e] 2025-06-10 23:38:15.604 [http-nio-8091-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Using 'application/json;q=0.8', given [text/html, application/xhtml+xml, image/avif, image/webp, image/apng, application/xml;q=0.9, application/signed-exchange;v=b3;q=0.7, */*;q=0.8] and supported [application/json, application/*+json, application/json, application/*+json]
[7f89634403814c26b10d64fae89cb81e] 2025-06-10 23:38:15.605 [http-nio-8091-exec-3] DEBUG o.s.w.s.m.m.a.RequestResponseBodyMethodProcessor - Writing [ApiResponse{code=200, message='操作成功', data={port=8091, service=audience-service, version=1.0.0, stat (truncated)...]
[7f89634403814c26b10d64fae89cb81e] 2025-06-10 23:38:15.622 [http-nio-8091-exec-3] DEBUG org.springframework.web.servlet.DispatcherServlet - Completed 200 OK
