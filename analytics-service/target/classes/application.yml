server:
  port: 8093

spring:
  application:
    name: analytics-service
  
  # 数据库配置
  datasource:
    driver-class-name: com.mysql.cj.jdbc.Driver
    url: jdbc:mysql://localhost:3306/business_db?useUnicode=true&characterEncoding=utf-8&useSSL=false&serverTimezone=Asia/Shanghai
    username: root
    password: root
  
   #Redis配置
  redis:
    host: localhost
    port: 6379
    database: 0
    timeout: 10000
    lettuce:
      pool:
        max-active: 8
        max-wait: -1
        max-idle: 8
        min-idle: 0

# MyBatis配置
mybatis:
  mapper-locations: classpath:mapper/*.xml
  type-aliases-package: com.reward.analytics.entity
  configuration:
    map-underscore-to-camel-case: true

# 自定义配置
analytics:
  # 数据同步配置
  sync:
    url: http://localhost:8093/analytics/reward/sync
    batch-size: 100
    retry-times: 3
    retry-interval: 5000
  # 缓存配置
  cache:
    hourly-analysis-ttl: 3600
    user-portrait-ttl: 7200